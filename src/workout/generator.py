# workout/generator.py
import random


def generate_workout(level="—Å—Ä–µ–¥–Ω—è—è"):
    base = {
        "–ª—ë–≥–∫–∞—è": [
            "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è x10", "–ü–ª–∞–Ω–∫–∞ 30 —Å–µ–∫", "–ü—Ä—ã–∂–∫–∏ x10", "–ú–∞—Ö–∏ –Ω–æ–≥–∞–º–∏ x15",
            "–ù–∞–∫–ª–æ–Ω—ã –≤–ø–µ—Ä—ë–¥ x15", "–•–æ–¥—å–±–∞ –Ω–∞ –º–µ—Å—Ç–µ x1 –º–∏–Ω", "–ö—Ä—É–≥–∏ —Ä—É–∫–∞–º–∏ x20",
            "–ü–æ–¥—ä—ë–º –Ω–∞ –Ω–æ—Å–∫–∏ x15", "–ü–æ–≤–æ—Ä–æ—Ç—ã –∫–æ—Ä–ø—É—Å–∞ x20", "–†–∞—Å—Ç—è–∂–∫–∞ —Ä—É–∫ x30 —Å–µ–∫",
            "–ü—Ä—ã–∂–∫–∏ –∑–≤—ë–∑–¥–æ—á–∫–∞ x10", "–†–∞–∑–≤–µ–¥–µ–Ω–∏–µ —Ä—É–∫ x15", "–ù–∏–∑–∫–∞—è –ø–ª–∞–Ω–∫–∞ x20 —Å–µ–∫",
            "–•–æ–¥—å–±–∞ –Ω–∞ —á–µ—Ç–≤–µ—Ä–µ–Ω—å–∫–∞—Ö x30 —Å–µ–∫", "–ü—Ä—ã–∂–∫–∏ –Ω–∞ –æ–¥–Ω–æ–π –Ω–æ–≥–µ x5 –Ω–∞ –∫–∞–∂–¥—É—é"
        ],
        "—Å—Ä–µ–¥–Ω—è—è": [
            "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è x20", "–ü–ª–∞–Ω–∫–∞ 60 —Å–µ–∫", "–ü—Ä—ã–∂–∫–∏ x20", "–û—Ç–∂–∏–º–∞–Ω–∏—è x10",
            "–í—ã–ø–∞–¥—ã x10 –Ω–∞ –Ω–æ–≥—É", "–ê–ª—å–ø–∏–Ω–∏—Å—Ç x30 —Å–µ–∫", "–ü—Ä—ã–∂–∫–∏ —Å —Ä–∞–∑–≤–µ–¥–µ–Ω–∏–µ–º x15",
            "–°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è x20", "–ë–µ—Ä–ø–∏ x10", "–ü–æ–¥—ä—ë–º —Ç–∞–∑–∞ –ª—ë–∂–∞ x20", "–ù–æ–∂–Ω–∏—Ü—ã x30 —Å–µ–∫",
            "–ë–æ–∫–æ–≤–∞—è –ø–ª–∞–Ω–∫–∞ x30 —Å–µ–∫", "–ü–æ–¥—Ç—è–≥–∏–≤–∞–Ω–∏–µ –∫–æ–ª–µ–Ω–µ–π x15", "–ü—Ä–∏—Å–µ–¥ —Å –≤—ã–ø—Ä—ã–≥–∏–≤–∞–Ω–∏–µ–º x10",
            "–ü–æ–¥—ä—ë–º –Ω–æ–≥ –ª—ë–∂–∞ x15"
        ],
        "—Ç—è–∂—ë–ª–∞—è": [
            "–ë—ë—Ä–ø–∏ x15", "–ü–ª–∞–Ω–∫–∞ 90 —Å–µ–∫", "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è —Å –ø—Ä—ã–∂–∫–æ–º x15", "–û—Ç–∂–∏–º–∞–Ω–∏—è x20",
            "–í—ã–ø–∞–¥—ã –Ω–∞–∑–∞–¥ —Å –ø—Ä—ã–∂–∫–æ–º x10", "–ü—Ä—ã–∂–∫–∏ –Ω–∞ –º–µ—Å—Ç–µ x30", "–ê–ª—å–ø–∏–Ω–∏—Å—Ç x60 —Å–µ–∫",
            "–°–∫—Ä—É—á–∏–≤–∞–Ω–∏—è —Å –ø–æ–≤–æ—Ä–æ—Ç–æ–º x20", "–ü—Ä–∏—Å–µ–¥–∞–Ω–∏—è '–ø–∏—Å—Ç–æ–ª–µ—Ç–æ–º' x5 –Ω–∞ –Ω–æ–≥—É",
            "–ë–æ–∫–æ–≤–∞—è –ø–ª–∞–Ω–∫–∞ —Å –ø–æ–¥—ä—ë–º–æ–º –Ω–æ–≥–∏ x10", "–ü—Ä—ã–∂–∫–∏ –≤ –ø–ª–∞–Ω–∫–µ x15", "–°–ø—Ä–∏–Ω—Ç –Ω–∞ –º–µ—Å—Ç–µ x30 —Å–µ–∫",
            "–°–∫–∞–ª–æ–ª–∞–∑ —Å —É—Å–∫–æ—Ä–µ–Ω–∏–µ–º x20", "–ü—Ä—ã–∂–∫–∏ —Å –≤—ã—Å–æ–∫–∏–º–∏ –∫–æ–ª–µ–Ω—è–º–∏ x20", "–ñ–∞–±–∫–∞ x15"
        ]
    }

    # –ü–æ–ª—É—á–∞–µ–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è —É—Ä–æ–≤–Ω—è
    exercises = base.get(level, base["—Å—Ä–µ–¥–Ω—è—è"])
    random.shuffle(exercises)

    # –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ 5‚Äì7 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π (–º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å)
    selected = random.sample(exercises, k=min(len(exercises), random.randint(5, 7)))

    workout_text = "\n".join(selected)
    workout_text += "\n\nüîÅ –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—Å—ë 4 —Ä–∞–∑–∞"

    return workout_text
